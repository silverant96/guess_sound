<!DOCTYPE html>
<html>
<head><title>Угадай звук</title></head>
<body>
  <h1>Угадай звук!</h1>
  {% if error %}
    <p>{{ error }}</p>
  {% else %}
    <audio id="sound" src="{{ sound.sound.url }}" preload="auto"></audio>
    <button onclick="document.getElementById('sound').play()">Слушать звук</button>

    <div style="margin-top: 20px;">
      {% for item in choices %}
        <div style="display: inline-block; margin: 10px;">
          <img src="{{ item.image.url }}" width="150" onclick="checkAnswer('{{ item.name }}', '{{ sound.name }}')">
          <p>{{ item.name }}</p>
        </div>
      {% endfor %}
    </div>

    <script>
      function checkAnswer(selected, correct) {
        if (selected === correct) {
          alert('Правильно! Это ' + correct);
          location.reload();
        } else {
          alert('Неправильно! Попробуй ещё раз.');
        }
      }
    </script>
  {% endif %}

  <p><a href="/logout/">Выйти</a></p>
</body>
</html>